import array

total_exp_array = array.array('i', [0, 100, 300, 600, 1000, 1500, 2100, 2800, 3600, 4500, 5500, 6600, 7800, 9100, 10500, 12000, 13600, 15300, 17100, 19000, 21000, 23100, 25300, 27600, 30000, 32500, 35100, 37800, 40600, 43500, 46500, 49600, 52800, 56100, 59500, 63000, 66600, 70300, 74100, 78000, 82000, 86200, 90600, 95200, 100000, 105000, 110200, 115600, 121200, 127000, 133000, 139200, 145600, 152200, 159000, 166000, 173200, 180600, 188200, 196000, 204000, 212300, 220900, 229800, 239000, 248500, 258300, 268400, 278800, 289500, 301600, 314140, 327120, 340540, 354400, 368700, 383440, 398620, 414240, 430300, 447550, 465375, 483775, 502750, 522300, 542425, 563125, 584400, 606250, 628675, 652675, 677875, 704275, 733075, 764275, 800275, 842275, 890275, 962275, 1120675, 1190675, 1262675, 1336675, 1412675, 1490675, 1575675, 1672675, 1781675, 1902675, 2035675, 2180675, 2343675, 2524675, 2723675, 2940675, 3175675, 3431675, 3708675, 4006675, 4325675])

def calc_level(currentLevel, expGained):
    shipEXP = find_total_exp(currentLevel)
    totalEXP = shipEXP + expGained
    estLevel = find_level(totalEXP)
    return estLevel

def find_total_exp(level):
    i = int(level) - 1
    total_exp = total_exp_array[i]
    return total_exp

def find_level(total_exp):
    i = 0
    while total_exp > total_exp_array[i] and i < 119:
        i += 1
    return i+1
